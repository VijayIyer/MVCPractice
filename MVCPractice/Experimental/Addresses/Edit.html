@model MVCPractice.Address

@*@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}*@

<h2>Edit</h2>


 <form method="post" name="EditAddress" novalidate ng-class="{'disabled':EditAddress.$invalid}" id="EditAddress">
        <div class="form-horizontal" ng-controller="EditAddress">
            <h4>Address</h4>
            <hr />
            <!--@Html.ValidationSummary(true, "", new { @class = "text-danger" })
            @Html.HiddenFor(model => model.AddressID,new { @ng_init = "'@Model.AddressID'" ,@ng_model="addressid"})-->
            <input hidden ng-model="model.AddressID" />

            <div class="form-group" ng-class="{ 'has-error' : EditAddress.AddressLine1.$touched && EditAddress.AddressLine1.$error.required }">
                <label for="AddressLine1" class="control-label col-md-2">AddressLine1</label>

                <div class="col-md-10">
                    <input class="form-control" name="AddressLine1" id="AddressLine1" ng-model="model.AddressLine1" required />
                    <span class="text-danger" ng-show="EditAddress.AddressLine1.$error.required && EditAddress.AddressLine1.$touched">AddressLine1 is a required field</span>

                </div>
            </div>

            <div class="form-group" ng-class="{'has-error': EditAddress.AddressLine2.$error.required && EditAddress.AddressLine2.$touched}">
                <label for="AddressLine2" class="control-label col-md-2">AddressLine2</label>
                <div class="col-md-10">
                    <input name="AddressLine2" id="AddressLine2" class="form-control" ng-model="model.AddressLine2" required />
                    <span class="text-danger" ng-show="EditAddress.AddressLine2.$error.required && EditAddress.AddressLine2.$touched">AddressLine1 is a required field</span>
                </div>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : EditAddress.City.$touched && EditAddress.City.$error.required }">
                <label for="City" class="control-label col-md-2">City</label>

                <div class="col-md-10">
                    <input class="form-control" name="City" id="City" ng-model="model.City" required />
                    <span class="text-danger" ng-show="EditAddress.City.$error.required && EditAddress.City.$touched">City is a required field</span>

                </div>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : EditAddress.StateProvince.$touched && EditAddress.StateProvince.$error.required }">
                <label for="StateProvince" class="control-label col-md-2">StateProvince</label>

                <div class="col-md-10">
                    <input class="form-control" name="StateProvince" id="StateProvince" ng-model="model.StateProvince" required />
                    <span class="text-danger" ng-show="EditAddress.StateProvince.$error.required && EditAddress.StateProvince.$touched">StateProvince is a required field</span>

                </div>
            </div>

            <div class="form-group" ng-class="{ 'has-error' : EditAddress.CountryRegion.$touched && EditAddress.CountryRegion.$error.required }">
                <label for="Country" class="control-label col-md-2">Country</label>

                <div class="col-md-10">
                    <input class="form-control" name="CountryRegion" id="CountryRegion" ng-model="model.CountryRegion" ng-change="SetRegexPattern(model.CountryRegion)" required />
                    <span class="text-danger" ng-show="EditAddress.CountryRegion.$error.required && EditAddress.CountryRegion.$touched">Country is a required field</span>

                </div>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : EditAddress.PostalCode.$touched && (EditAddress.PostalCode.$error.required||EditAddress.PostalCode.$error.pattern) }">
                <label for="Country" class="control-label col-md-2">PostalCde</label>

                <div class="col-md-10">
                    <input class="form-control" name="PostalCode" id="PostalCode" ng-model="model.PostalCode" required ng-pattern="pattern" />
                    <span class="text-danger" ng-show="EditAddress.PostalCode.$error.required && EditAddress.PostalCode.$touched">PostalCode is a required field</span>
                    <span class="text-danger" ng-show="EditAddress.PostalCode.$error.pattern && EditAddress.PostalCode.$touched">PostalCode pattern is incorrect for country - {{model.CountryRegion}}</span>

                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="button" ng-click="SaveForm()" value="Save" ng-class="{'disabled':EditAddress.$invalid}" class="btn btn-default" />
                </div>
               
            </div>
        </div>
    </form>
  

<div>
<a ng-href="/Addresses/Index">Back To List</a>
</div>
